SUMMARY="A modern Prolog implementation written mostly in Rust"
DESCRIPTION="Scryer Prolog aims to become to ISO Prolog what GHC is to Haskell: an open source industrial strength production environment that is also a testbed for bleeding edge research in logic and constraint programming, which is itself written in a high-level language."
HOMEPAGE="https://github.com/mthom/scryer-prolog"
COPYRIGHT="2016-2022, Scryer Prolog contributors"
LICENSE="BSD (3-clause)"
REVISION="1"
srcGitRev="13d3b59cd723df1464f03aa742d4f8bad3fe4c45"
SOURCE_URI="https://github.com/mthom/scryer-prolog/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="c802e959f236e64b30a845b7e3bfef23503e17f6bf95c215db4bb5a2aca2a409"
SOURCE_FILENAME="scryer-prolog-${portVersion/_/-}-$srcGitRev.tar.gz"
SOURCE_DIR="scryer-prolog-$srcGitRev"

ARCHITECTURES="x86_64"

PROVIDES="
    scryer_prolog = $portVersion
    cmd:scryer_prolog
    "

REQUIRES="
    haiku
    lib:libgmp
    "
    
BUILD_REQUIRES="
    haiku_devel
    openssl_devel
    devel:libgmp
    "
BUILD_PREREQUIRES="
    cmd:awk
    cmd:cargo
    cmd:cmp
    cmd:diff
    cmd:gcc
    cmd:m4
    cmd:make
    "
    
BUILD()
{
	cargo build --release -j 1
}

INSTALL()
{
	mkdir -p $binDir
	cp target/release/scryer-prolog $binDir/scryer-prolog
}
